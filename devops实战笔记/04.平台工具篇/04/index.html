<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-two/umi.css" />
    <script>
      window.routerBase = "/blog-two";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>24 | 持续交付平台：现代流水线必备的十大特征（下）</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/devops实战笔记/04.平台工具篇/04" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-two/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>后端开发<ul><li><a href="/blog-two/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-two/go并发编程实战">go并发编程实战</a></li><li><a href="/blog-two/零基础学python">零基础学python</a></li><li><a href="/blog-two/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-two/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-two/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-two/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-two/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li></ul></span><span>架构师<ul><li><a href="/blog-two/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-two/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-two/ddd实战课">ddd实战课</a></li><li><a href="/blog-two/设计模式之美">设计模式之美</a></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/架构实战案例解析">架构实战案例解析</a></li><li><a href="/blog-two/许式伟的架构课">许式伟的架构课</a></li><li><a href="/blog-two/高并发系统设计40问">高并发系统设计40问</a></li><li><a href="/blog-two/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-two/说透中台">说透中台</a></li><li><a href="/blog-two/消息队列进阶">消息队列进阶</a></li><li><a href="/blog-two/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-two/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-two/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-two/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-two/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a href="/blog-two/从0开始学架构">从0开始学架构</a></li><li><a href="/blog-two/vim实用技巧必知必会">vim实用技巧必知必会</a></li><li><a href="/blog-two/如何落地业务建模">如何落地业务建模</a></li><li><a href="/blog-two/技术与商业案例解读">技术与商业案例解读</a></li><li><a href="/blog-two/说透数字化转型">说透数字化转型</a></li><li><a href="/blog-two/遗留系统现代化实战">遗留系统现代化实战</a></li></ul></span><span>管理<ul><li><a href="/blog-two/技术管理实战36讲">技术管理实战36讲</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/项目管理实战课">项目管理实战课</a></li><li><a href="/blog-two/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-two/技术领导力实战笔记">技术领导力实战笔记</a></li><li><a href="/blog-two/朱赟的技术管理">朱赟的技术管理</a></li></ul></span><span>工作生活<ul><li><a href="/blog-two/10x程序员工作法">10x程序员工作法</a></li><li><a href="/blog-two/python自动化办公实战课">python自动化办公实战课</a></li><li><a href="/blog-two/人人都用得上的写作课">人人都用得上的写作课</a></li><li><a href="/blog-two/体验设计案例课">体验设计案例课</a></li><li><a href="/blog-two/用户体验设计实战课">用户体验设计实战课</a></li><li><a href="/blog-two/程序员的个人财富课">程序员的个人财富课</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/职场求生攻略">职场求生攻略</a></li><li><a href="/blog-two/讲好故事">讲好故事</a></li><li><a href="/blog-two/跟着高手学复盘">跟着高手学复盘</a></li></ul></span><span>杂谈</span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-two/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>后端开发<ul><li><a href="/blog-two/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-two/go并发编程实战">go并发编程实战</a></li><li><a href="/blog-two/零基础学python">零基础学python</a></li><li><a href="/blog-two/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-two/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-two/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-two/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-two/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li></ul></li><li>架构师<ul><li><a href="/blog-two/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-two/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-two/ddd实战课">ddd实战课</a></li><li><a href="/blog-two/设计模式之美">设计模式之美</a></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/架构实战案例解析">架构实战案例解析</a></li><li><a href="/blog-two/许式伟的架构课">许式伟的架构课</a></li><li><a href="/blog-two/高并发系统设计40问">高并发系统设计40问</a></li><li><a href="/blog-two/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-two/说透中台">说透中台</a></li><li><a href="/blog-two/消息队列进阶">消息队列进阶</a></li><li><a href="/blog-two/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-two/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-two/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-two/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-two/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a href="/blog-two/从0开始学架构">从0开始学架构</a></li><li><a href="/blog-two/vim实用技巧必知必会">vim实用技巧必知必会</a></li><li><a href="/blog-two/如何落地业务建模">如何落地业务建模</a></li><li><a href="/blog-two/技术与商业案例解读">技术与商业案例解读</a></li><li><a href="/blog-two/说透数字化转型">说透数字化转型</a></li><li><a href="/blog-two/遗留系统现代化实战">遗留系统现代化实战</a></li></ul></li><li>管理<ul><li><a href="/blog-two/技术管理实战36讲">技术管理实战36讲</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/项目管理实战课">项目管理实战课</a></li><li><a href="/blog-two/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-two/技术领导力实战笔记">技术领导力实战笔记</a></li><li><a href="/blog-two/朱赟的技术管理">朱赟的技术管理</a></li></ul></li><li>工作生活<ul><li><a href="/blog-two/10x程序员工作法">10x程序员工作法</a></li><li><a href="/blog-two/python自动化办公实战课">python自动化办公实战课</a></li><li><a href="/blog-two/人人都用得上的写作课">人人都用得上的写作课</a></li><li><a href="/blog-two/体验设计案例课">体验设计案例课</a></li><li><a href="/blog-two/用户体验设计实战课">用户体验设计实战课</a></li><li><a href="/blog-two/程序员的个人财富课">程序员的个人财富课</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/职场求生攻略">职场求生攻略</a></li><li><a href="/blog-two/讲好故事">讲好故事</a></li><li><a href="/blog-two/跟着高手学复盘">跟着高手学复盘</a></li></ul></li><li>杂谈</li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/devops实战笔记/01.开篇词">01.开篇词</a><ul><li><a href="/blog-two/devops实战笔记/01.开篇词/01"><span>开篇词 | 从默默无闻到风靡全球，DevOps究竟有什么魔力？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇">02.基础理论篇</a><ul><li><a href="/blog-two/devops实战笔记/02.基础理论篇/01"><span>01 | DevOps的“定义”：DevOps究竟要解决什么问题？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/02"><span>02 | DevOps的价值：数字化转型时代，DevOps是必选项？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/03"><span>03 | DevOps的实施：到底是工具先行还是文化先行？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/04"><span>04 | DevOps的衡量：你是否找到了DevOps的实施路线图？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇">03.落地实践篇</a><ul><li><a href="/blog-two/devops实战笔记/03.落地实践篇/01"><span>05 | 价值流分析：关于DevOps转型，我们应该从何处入手？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/02"><span>06 | 转型之路：企业实施DevOps的常见路径和问题</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/03"><span>07 | 业务敏捷：帮助DevOps快速落地的源动力</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/04"><span>08 | 精益看板（上）：精益驱动的敏捷开发方法</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/05"><span>09 | 精益看板（下）：精益驱动的敏捷开发方法</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/06"><span>10 | 配置管理：最容易被忽视的DevOps工程实践基础</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/07"><span>11 | 分支策略：让研发高效协作的关键要素</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/08"><span>12 | 持续集成：你说的CI和我说的CI是一回事吗？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/09"><span>13 | 自动化测试：DevOps的阿克琉斯之踵</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/10"><span>14 | 内建质量：丰田和亚马逊给我们的启示</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/11"><span>15 | 技术债务：那些不可忽视的潜在问题</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/12"><span>16 | 环境管理：一切皆代码是一种什么样的体验？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/13"><span>17 | 部署管理：低风险的部署发布策略</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/14"><span>18 | 混沌工程：软件领域的反脆弱</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/15"><span>19 | 正向度量：如何建立完整的DevOps度量体系？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/16"><span>20 | 持续改进：PDCA体系和持续改进的意义</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记/04.平台工具篇">04.平台工具篇</a><ul><li><a href="/blog-two/devops实战笔记/04.平台工具篇/01"><span>21 | 开源还是自研：企业DevOps平台建设的三个阶段</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/02"><span>22 | 产品设计之道：DevOps产品设计的五个层次</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/03"><span>23 | 持续交付平台：现代流水线必备的十大特征（上）</span></a></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记/04.平台工具篇/04"><span>24 | 持续交付平台：现代流水线必备的十大特征（下）</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/05"><span>25 | 让数据说话：如何建设企业级数据度量平台？</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/06"><span>26 | 平台产品研发：三个月完成千人规模的产品要怎么做？</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/07"><span>27 | 巨人的肩膀：那些你不能忽视的开源工具</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/08"><span>28 | 迈向云端：云原生应用时代的平台思考</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/05.转型案例篇">05.转型案例篇</a><ul><li><a href="/blog-two/devops实战笔记/05.转型案例篇/01"><span>29 | 向前一步：万人规模企业的DevOps实战转型案例（上）</span></a></li><li><a href="/blog-two/devops实战笔记/05.转型案例篇/02"><span>30 | 向前一步：万人规模企业的DevOps实战转型案例（下）</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/06.特别放送">06.特别放送</a><ul><li><a href="/blog-two/devops实战笔记/06.特别放送/01"><span>特别放送（一）| 成为DevOps工程师的必备技能（上）</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/02"><span>特别放送（二）| 成为DevOps工程师的必备技能（下）</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/03"><span>特别放送（三）| 学习DevOps不得不了解的经典资料</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/04"><span>特别放送（四）| Jenkins产品经理是如何设计产品的？</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/05"><span>特别放送（五）| 关于DevOps组织和文化的那些趣事儿</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/07.总结答疑篇">07.总结答疑篇</a><ul><li><a href="/blog-two/devops实战笔记/07.总结答疑篇/01"><span>期中总结 | 3个典型问题答疑及如何高效学习</span></a></li><li><a href="/blog-two/devops实战笔记/07.总结答疑篇/02"><span>期末总结 | 在云时代，如何选择一款合适的流水线工具？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/08.结束语">08.结束语</a><ul><li><a href="/blog-two/devops实战笔记/08.结束语/01"><span>结束语 | 持续改进，成就非凡！</span></a></li><li><a href="/blog-two/devops实战笔记/08.结束语/02"><span>结课问卷获奖用户名单</span></a></li><li><a href="/blog-two/devops实战笔记/08.结束语/03"><span>期末测试 | 这些DevOps核心知识，你都掌握了吗？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/summary">devops实战笔记</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="特性六：流程可控" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#特性六流程可控"><span>特性六：流程可控</span></a></li><li title="特性七：动静分离配置化" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#特性七动静分离配置化"><span>特性七：动静分离配置化</span></a></li><li title="特性八：快速接入" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#特性八快速接入"><span>特性八：快速接入</span></a></li><li title="特性九：内建质量门禁" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#特性九内建质量门禁"><span>特性九：内建质量门禁</span></a></li><li title="特性十：数据聚合采集" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#特性十数据聚合采集"><span>特性十：数据聚合采集</span></a></li><li title="总结" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#总结"><span>总结</span></a></li><li title="思考题" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/04#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="24--持续交付平台现代流水线必备的十大特征下"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#24--持续交付平台现代流水线必备的十大特征下"><span class="icon icon-link"></span></a>24 | 持续交付平台：现代流水线必备的十大特征（下）</h1><p>你好，我是石雪峰。今天，我来接着跟你聊聊现代流水线必备的十大特性的下半部分，分别是流程可控、动静分离配置化、快速接入、内建质量门禁和数据采集聚合。</p><p><img src="https://static001.geekbang.org/resource/image/dd/b0/dd73fb488bc5fb93e0148107e1e470b0.png" alt=""/></p><h2 id="特性六流程可控"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#特性六流程可控"><span class="icon icon-link"></span></a>特性六：流程可控</h2><p>在上一讲中，我提到过，流水线是覆盖软件交付端到端完整过程的平台，也就是说，流水线的主要作用是<strong>驱动软件交付过程的效率提升和状态可视化</strong>。</p><p>在线下交流的时候，我发现，不少同学对这个概念的理解都存在着一些误区，他们觉得需要建设一条大而全的流水线，在这条流水线上完成软件交付的所有过程。</p><p>其实，流水线是要覆盖端到端的流程，但这并不是说，一定要有一条流水线跑通从代码提交开始到软件发布为止的全流程。实际上，在企业中，往往是多条流水线覆盖不同的环节，比如开发阶段流水线、集成阶段流水线，以及部署阶段流水线。这些流水线一起覆盖了整个软件交付流程。</p><p>这就体现了流水线的流程可控性，<strong>流水线可以为了满足不同阶段的业务目标而存在，并且每条流水线上实现的功能都不相同</strong>。为了达到这个目的，流水线需要支持多种触发方式，比如定时触发、手动触发、事件触发等。其中，<strong>事件触发就是实现持续集成的一个非常重要的能力</strong>。</p><p>以Gitlab为例，你可以在代码仓库中添加Webhook，Webhook的地址就是触发流水线任务的API，这个API可以通过Gitlab的API实现自动注册。</p><p>需要注意的是，<strong>要实现Webhook的自动注册，访问Gitlab的账号时必须要有对应代码仓库的Master级别权限，否则是无法添加成功的</strong>。</p><p>当注册完成Webhook，代码仓库捕获到对应的事件后，比如代码Push动作，会自动调用Webhook，并且将本次代码提交的基础信息（比如分支、提交人等）传递给注册地址。</p><p>流水线平台接收到接口访问后，可以根据规则过滤请求，最典型的就是<strong>触发分支信息</strong>。当满足规则条件后，则执行流水线任务，并将结果再次通过Gitlab的API写回到代码仓库中。这样一来，每次提交历史都会关联一个流水线的执行记录，可以用于辅助代码合并评审。</p><p>我画了一张流程图，它展示了刚刚我所描述的过程以及调用的接口信息。</p><p><img src="https://static001.geekbang.org/resource/image/c0/e2/c06719043cb3a22f6dd7da3b71a044e2.png" alt=""/></p><p>除了多种触发方式以外，流水线还需要支持人工审批。这也就是说，每个阶段的流转可以是自动的，上一阶段完成后，就自动执行下一阶段；也可以是手动执行的，必须经过人为确认才能继续执行，这里的人为确认需要配合权限的管控。</p><p>其实，人工审批的场景在软件交付过程中非常常见。如果是自建流程引擎，人工审批就不难实现，但是，如果你是基于Jenkins来实现这个过程，虽然Jenkins提供了input方法来实现人为审批的功能，但我还是比较推荐你自己通过<strong>扩展代码</strong>来实现。比如，将每个原子的执行过程抽象为before()、execute() 和 after() 三个阶段，可以将人工审批的逻辑写在before()或者after()方法中。</p><p>这样一来，对于所有原子都可以默认执行基类方法，从而获得人工审批的能力。是否开启人工审批，可以通过原子配置中的参数实现。你就不需要在每个原子中人工注入input方法了，流水线的执行过程会更加清晰。</p><p>我给你分享一个抽象原子类的设计实现，如下面的代码所示：</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">abstract class AbstractAtom extends AtomExecution {</span></div><div class="token-line"><span class="token plain">      def atomExecution() {</span></div><div class="token-line"><span class="token plain">            this.beforeAtomExecution()</span></div><div class="token-line"><span class="token plain">        		// 原子预处理步骤，你可以将通用执行逻辑，比如人工审批等写在这里</span></div><div class="token-line"><span class="token plain">        		echo(&#x27;AtomBefore&#x27;)</span></div><div class="token-line"><span class="token plain">            before()</span></div><div class="token-line"><span class="token plain">            // 原子主体核心逻辑</span></div><div class="token-line"><span class="token plain">            echo(&#x27;AtomExecution&#x27;)</span></div><div class="token-line"><span class="token plain">            execute()</span></div><div class="token-line"><span class="token plain">    				// 原子后处理步骤，你可以将通用执行逻辑，比如人工审批等写在这里</span></div><div class="token-line"><span class="token plain">        		echo(&#x27;AtomAfter&#x27;)</span></div><div class="token-line"><span class="token plain">            after()</span></div><div class="token-line"><span class="token plain">            this.afterAtomExecution()</span></div><div class="token-line"><span class="token plain">        }</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><h2 id="特性七动静分离配置化"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#特性七动静分离配置化"><span class="icon icon-link"></span></a>特性七：动静分离配置化</h2><p>流水线的灵活性不仅体现在流程可编排、流程可控方面，每一个原子都需要持续迭代功能。那么，如何在不改变代码的情况下，实现原子的动态化配置呢？</p><p>这就需要用到<strong>动静分离</strong>的设计方法了。那么，什么是动静分离呢？</p><p>其实，<strong>动静分离就是一种配置化的实现方式</strong>。这就是指，将需要频繁调整或者用户自定义的内容，保存在一个静态的配置文件中。然后，系统加载时通过读取接口获取配置数据，并动态生成用户可见的交互界面。</p><p>你可能觉得有点抽象，我来给你举个例子。你可以看一下下面这张截图。</p><p><img src="https://static001.geekbang.org/resource/image/50/49/5096345bd515d2223146e9bbf88e5f49.png" alt=""/></p><p>如果我想对某一个原子扩展一个新的功能，提供一个新的用户配置参数，传统的做法就是在前端页面中增加一段html代码。这样的话，原子功能的每一次变更都需要前端配合调整，原子的独立性就不复存在了，而是跟页面强耦合在一起。</p><p>另外，前端页面加入了这么多业务逻辑，如果哪天需要同时兼容不同的原子版本，那么前端页面也需要保存两套。一两个应用这么玩也就罢了，如果有上百个应用，那简直没法想象。</p><p>那么，具体要怎么做呢？<strong>最重要的就是定义一套标准的原子数据结构</strong>。</p><p>比如，在上面这张图的左侧部分，我给你提供了一个参考结构。对于所有的原子来说，它对外暴露的功能都是通过这套标准化的方式来定义的。前端在加载原子的时候，后端提供的接口获取原子的数据结构，并按照约定的参数类型，渲染成不同的控件类型。</p><p>不仅如此，控件的属性也可以灵活调整，比如控件的默认值是什么，控件是否属于必填项，是否存在可输入字符限制等等。那么，当你想增加一个新的参数的时候，只需要修改原子配置，而不需要修改前端代码。<strong>结构定义和具体实现的分离，可以大幅简化原子升级的灵活性</strong>。</p><p>无论在原子结构设计，还是前后端交互等领域，<strong>定义一个通用的数据结构是设计标准化的系统的最佳实践</strong>。</p><p>对于流水线平台来说，除了原子，很多地方都会用到配置化的方式。比如，系统报告中体现的字段和图表类型等，就是为了满足用户差异化的需求。而且，将配置纳入版本控制，你也可以快速查询原子配置的变更记录，达到一切变更皆可追溯的目标。</p><h2 id="特性八快速接入"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#特性八快速接入"><span class="icon icon-link"></span></a>特性八：快速接入</h2><p>前面我提到过，流水线的很多能力都不是自己提供的，而是来源于垂直业务平台。那么，<strong>在建设流水线平台的时候，能否快速地实现外部平台能力的接入，就成了一个必须要解决的问题</strong>。</p><p><strong>经典的解决方式就是提供一种插件机制，来实现平台能力的接入</strong>。比如，Jenkins平台就是通过这种方式，建立了非常强大的插件生态。但是，如果每个平台的接入都需要企业内部自己来实现插件的话，那么，企业对于平台接入的意愿就会大大降低。</p><p>实际上，<strong>接入成本的高低，直接影响了平台能力的拓展，而流水线平台支持的能力多少，就是平台的核心竞争力</strong>。</p><p>那么，有没有一种更加轻量化的平台接入方法呢？我给你提供一个解决思路：<strong>自动化生成平台关联的原子代码</strong>。</p><p>在第七个特性中，我们已经将原子的数据结构通过一种标准化的描述式语言定义完成了，那原子的实现代码是否可以也自动化生成呢？实际上，在大多数情况下，外部平台打通有两种类型。</p><ul><li>平台方提供一个本地执行的工具，也就是类似SonarQube的Scanner的方式，通过在本地调用这个工具，实现相应的功能。</li><li>通过接口调用的方式，实现平台与平台间的交互，调用的实现过程无外乎同步和异步两种模式。</li></ul><p>既然平台接入存在一定的共性，那么，我们就可以规划解题方法了。</p><p>首先，<strong>流水线平台需要定义一套标准的接入方式</strong>。以接口调用类型为例，接入平台需要提供一个任务调用接口、一个状态查询接口以及一个结果上报接口。</p><ul><li><strong>任务调用接口</strong>：用于流水线触发任务，一般由接入平台定义和实现。对于比较成熟的平台来说，这类接口一般都是现成的。接口调用参数可以直接转换成原子的参数，一些平台的配置化信息（比如接口地址、接口协议等），都可以定义在原子的数据结构中。</li><li><strong>状态查询接口</strong>：用于流水线查询任务的执行状态，获取任务的执行进度。这个接口也是由接入平台定义和实现的，返回的内容一般包括<strong>任务状态</strong>和<strong>执行日志</strong>等。</li><li><strong>数据上报接口</strong>：用于任务将执行结果上报给流水线平台进行保存。这个接口由流水线平台定义，并提供一套标准的数据接口给到接入方。接入方必须按照这个标准接口上报数据，以简化数据上报的过程。</li></ul><p>通过将平台接入简化为几个标准步骤，可以大幅简化平台接入的实现成本。按照我们的经验，一套平台的接入基本都可以在几天内完成。</p><h2 id="特性九内建质量门禁"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#特性九内建质量门禁"><span class="icon icon-link"></span></a>特性九：内建质量门禁</h2><p>在<a target="_blank" rel="noopener noreferrer" href="https://time.geekbang.org/column/article/163072">第14讲<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>中，我给你介绍了内建质量的理念，以及相关的实施步骤。你还记得内建质量的两大原则吗？</p><ul><li>问题发现得越早，修复成本就越低；</li><li>质量是每个人的责任，而不是质量团队的责任。</li></ul><p><strong>毫无疑问，持续交付流水线是内建质量的最好阵地，而具体的展现形式就是质量门禁</strong>。通过在持续交付流水线的各个阶段注入质量检查能力，可以让内建质量真正落地。</p><p>一般来说，流水线平台都应该具备质量门禁的能力，我们甚至要把它作为流水线平台的一级能力进行建设。在流水线平台上，要完成<strong>质量规则制定</strong>、<strong>门禁数据收集和检查</strong>，以及<strong>门禁结果报告的完整闭环</strong>。质量门禁大多数来源于垂直业务平台，比如，UI自动化测试平台就可以提供自动化测试通过率等指标。只有将用于门禁的数据上报到流水线平台，才能够激活检查功能。</p><p>那么，质量门禁的功能应该如何设计呢？</p><p>从后向前倒推，首先是设置<strong>门禁检查功能</strong>。这个功能也是一种流水线的通用能力，所以和人工审核的功能类似，也可以放在原子执行的after()步骤中，或者独立出来一个步骤就叫作qualityGates()。</p><p>每次原子执行时都会走到这个步骤，在步骤中校验当前流水线是否已经开启了门禁检查功能，并且当前原子是否提供了门禁检查能力。如果发现已配置门禁规则，而且当前原子在检查范围内，就等待运行结果返回，提取数据，并触发检查工作。你可以参考下面的示例代码。</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line"><span class="token plain">def qualityGates() {</span></div><div class="token-line"><span class="token plain">      // 获取质量门禁配置以及生效状态</span></div><div class="token-line"><span class="token plain">      boolean isRun = qualityGateAction.fetchQualityGateConfig(host, token, pipelineId, oneScope)</span></div><div class="token-line"><span class="token plain">      // 激活检查的情况等待结果返回，最多等待30分钟</span></div><div class="token-line"><span class="token plain">      if (isRun) {</span></div><div class="token-line"><span class="token plain">        syncHandler.doSyncOperation(</span></div><div class="token-line"><span class="token plain">          30,</span></div><div class="token-line"><span class="token plain">          &#x27;MINUTES&#x27;,</span></div><div class="token-line"><span class="token plain">          {</span></div><div class="token-line"><span class="token plain">            // 等待执行结果返回，质量门禁功能必须同步执行</span></div><div class="token-line"><span class="token plain">            return httpUtil.doGetToExternalResult(host, externalMap.get(oneScope), token)</span></div><div class="token-line"><span class="token plain">          })</span></div><div class="token-line"><span class="token plain">        // 提取返回数据</span></div><div class="token-line"><span class="token plain">        qualityGateAction.fetchExecutionResult(host, token, externalMap.get(oneScope), buildId)</span></div><div class="token-line"><span class="token plain">        // 验证质量门禁</span></div><div class="token-line"><span class="token plain">        qualityGateAction.verify(oneScope)</span></div><div class="token-line"><span class="token plain">      }</span></div><div class="token-line"><span class="token plain">    }</span></div></pre></div><p>解决了如何检查的问题，我们再往前一步，看看质量门禁的规则应该如何定义。</p><p>在企业内，定义和管理质量规则的一般都是QA团队，所以需要给他们提供一个统一入口，方便他们进行规则配置和具体数值的调整。</p><p>对质量门禁来说，检查的类型可以说是多种多样的。</p><ul><li>从比较类型来说，可以比较结果大于、等于、小于、包含、不包含等；</li><li>从比较结果来说，可以是失败值、警告值。失败值是指，只要满足这个条件，就直接终止流水线执行。而警告值是说，如果满足这个条件，就给一个警告标记，但是不会终止流水线执行。</li></ul><p>这些条件，往往需要根据QA团队定义的规则来适配。</p><p><strong>质量规则可以由一组子规则共同组成</strong>，比如，单元测试通过率100%、行覆盖率大于50%、严重阻塞代码问题等于0……</p><p>所以，你看，想要定义一个灵活的质量门禁，就需要在系统设计方面花点功夫了。在之前的实践中，我们就采用了适配器加策略模式的方式，这样可以满足规则的灵活扩展。</p><p>策略模式是23种设计模式中比较常用的一种。如果你之前没有了解过，我给你推荐一篇<a target="_blank" rel="noopener noreferrer" href="https://design-patterns.readthedocs.io/zh_CN/latest/behavioral_patterns/strategy.html">参考文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。如果想要深入学习设计模式，极客时间也有相应的专栏，或者你也可以购买经典的《<a target="_blank" rel="noopener noreferrer" href="https://item.jd.com/10100236.html">设计模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>》一书。其实，<strong>核心就在于面向接口而非面向过程开发，通过实现不同的接口类，来实现不同的检查策略</strong>。</p><h2 id="特性十数据聚合采集"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#特性十数据聚合采集"><span class="icon icon-link"></span></a>特性十：数据聚合采集</h2><p>作为软件交付过程的载体，流水线的可视化就体现在可以在流水线上看到每一个环节的执行情况。这是什么意思呢？</p><p>在系统没有打通的时候，如果你想看测试的执行结果，就要跑到测试系统上看；如果想看数据库变更的执行状态，就得去数据库管理平台上看。这里的问题就是，没有一个统一的地方可以查看本次发布的所有状态信息，而这也是流水线的可视化要解决的问题。</p><p>当平台的能力以原子的形式接入流水线之后，流水线需要有能力获取本次执行相关的结果数据，这也是在平台对接的时候，务必要求子系统实现数据上报接口的原因。至于上报数据的颗粒度，其实并没有一定之规，原则就是<strong>满足用户对最基本的结果数据的查看需求</strong>。</p><p>以单元测试为例，需要收集的数据包括两个方面，一个是单元测试的执行结果，比如一共多少用例，执行多少，成功失败分别多少。另外，即使收集覆盖率信息，至少也要包含各个维度的覆盖率指标。但是，对于具体每个文件的覆盖率情况，这种粒度的数据量比较大，可以通过生成报告的方式来呈现，不用事无巨细地都上报到流水线后台进行保存。</p><p>在企业内部没有建立独立的数据度量平台之前，流水线平台承载了全流程数据的展示功能。但是，毕竟流水线的目标是为了展示客观的数据结果，而不是在于对数据进行分析挖掘。所以，当企业开始建设数据度量平台时，流水线也可以作为数据源之一，满足度量平台对于各项工程能力的度量需求。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#总结"><span class="icon icon-link"></span></a>总结</h2><p>到此为止，我给你完整地介绍了现代流水线必备的十大特性。其实，流水线的功能特性远不止这10个。随着云计算和云原生应用的发展，云原生流水线也成为了越来越多人讨论的话题。关于这方面的内容，我会在后续的课程中给你分享我的一些想法。</p><p>可以说，一个好的持续交付流水线平台，就是企业DevOps能力的巅峰展现。这也难怪，越来越多的公司开始在这个领域发力，甚至把它作为核心能力对外输出，成为企业商业化运作的一份子。深入掌握这10个特性，并把它们落实在流水线平台的建设中，是企业DevOps平台建设的必经之路。</p><p>就像美国著名女演员莉莉·汤姆林（Lily Tomlin）的那句经典名言所说的那样：</p><blockquote><p>The road to success is always under construction.（通往成功的道路，永远在建设之中）</p></blockquote><p>企业迈向持续交付的成功之路也不是一帆风顺的，永无止境的追求是指引我们前进的方向，也希望你能在流水线建设之路上不断思考，不断实践，持续精进。</p><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/04#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>你目前在使用的流水线平台有哪些不好用、待改进，或者是“反人类”的设计吗？看完这两讲的内容，你有什么新的想法和改进建议吗？</p><p>欢迎在留言区写下你的思考和答案，我们一起讨论，共同学习进步。如果你觉得这篇文章对你有所帮助，也欢迎你把文章分享给你的朋友。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/docs/devops实战笔记/04.平台工具篇/04.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">5/2/2022 02:41:02</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-two/umi.js"></script>
  </body>
</html>
