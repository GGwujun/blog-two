<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
    <link rel="stylesheet" href="/blog-two/umi.css" />
    <script>
      window.routerBase = "/blog-two";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>21 | 开源还是自研：企业DevOps平台建设的三个阶段</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/devops实战笔记/04.平台工具篇/01" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-two/">大师兄</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><span>后端开发<ul><li><a href="/blog-two/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-two/go并发编程实战">go并发编程实战</a></li><li><a href="/blog-two/零基础学python">零基础学python</a></li><li><a href="/blog-two/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-two/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-two/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-two/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-two/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li></ul></span><span>架构师<ul><li><a href="/blog-two/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-two/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-two/ddd实战课">ddd实战课</a></li><li><a href="/blog-two/设计模式之美">设计模式之美</a></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/架构实战案例解析">架构实战案例解析</a></li><li><a href="/blog-two/许式伟的架构课">许式伟的架构课</a></li><li><a href="/blog-two/高并发系统设计40问">高并发系统设计40问</a></li><li><a href="/blog-two/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-two/说透中台">说透中台</a></li><li><a href="/blog-two/消息队列进阶">消息队列进阶</a></li><li><a href="/blog-two/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-two/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-two/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-two/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-two/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a href="/blog-two/从0开始学架构">从0开始学架构</a></li><li><a href="/blog-two/vim实用技巧必知必会">vim实用技巧必知必会</a></li><li><a href="/blog-two/如何落地业务建模">如何落地业务建模</a></li><li><a href="/blog-two/技术与商业案例解读">技术与商业案例解读</a></li><li><a href="/blog-two/说透数字化转型">说透数字化转型</a></li><li><a href="/blog-two/遗留系统现代化实战">遗留系统现代化实战</a></li></ul></span><span>管理<ul><li><a href="/blog-two/技术管理实战36讲">技术管理实战36讲</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/项目管理实战课">项目管理实战课</a></li><li><a href="/blog-two/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-two/技术领导力实战笔记">技术领导力实战笔记</a></li><li><a href="/blog-two/朱赟的技术管理">朱赟的技术管理</a></li></ul></span><span>工作生活<ul><li><a href="/blog-two/10x程序员工作法">10x程序员工作法</a></li><li><a href="/blog-two/python自动化办公实战课">python自动化办公实战课</a></li><li><a href="/blog-two/人人都用得上的写作课">人人都用得上的写作课</a></li><li><a href="/blog-two/体验设计案例课">体验设计案例课</a></li><li><a href="/blog-two/用户体验设计实战课">用户体验设计实战课</a></li><li><a href="/blog-two/程序员的个人财富课">程序员的个人财富课</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/职场求生攻略">职场求生攻略</a></li><li><a href="/blog-two/讲好故事">讲好故事</a></li><li><a href="/blog-two/跟着高手学复盘">跟着高手学复盘</a></li></ul></span><span>杂谈</span><div class="__dumi-default-navbar-tool"><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "></div></div></div></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;/logo.png&#x27;)" href="/blog-two/"></a><h1>大师兄</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li>后端开发<ul><li><a href="/blog-two/go语言核心36讲">go语言核心36讲</a></li><li><a href="/blog-two/go并发编程实战">go并发编程实战</a></li><li><a href="/blog-two/零基础学python">零基础学python</a></li><li><a href="/blog-two/redis核心技术与实战">redis核心技术与实战</a></li><li><a href="/blog-two/redis源码剖析与实战">redis源码剖析与实战</a></li><li><a href="/blog-two/陈天rust编程第一课">陈天rust编程第一课</a></li><li><a href="/blog-two/tonybaigo语言第一课">tonybaigo语言第一课</a></li><li><a href="/blog-two/深入c语言和程序运行原理">深入c语言和程序运行原理</a></li></ul></li><li>架构师<ul><li><a href="/blog-two/持续交付36讲">持续交付36讲</a></li><li><a href="/blog-two/容器实战高手课">容器实战高手课</a></li><li><a href="/blog-two/ddd实战课">ddd实战课</a></li><li><a href="/blog-two/设计模式之美">设计模式之美</a></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/架构实战案例解析">架构实战案例解析</a></li><li><a href="/blog-two/许式伟的架构课">许式伟的架构课</a></li><li><a href="/blog-two/高并发系统设计40问">高并发系统设计40问</a></li><li><a href="/blog-two/深入剖析kubernetes">深入剖析kubernetes</a></li><li><a href="/blog-two/说透中台">说透中台</a></li><li><a href="/blog-two/消息队列进阶">消息队列进阶</a></li><li><a href="/blog-two/mysql实战45讲">mysql实战45讲</a></li><li><a href="/blog-two/openresty从入门到实战">openresty从入门到实战</a></li><li><a href="/blog-two/赵成的运维体系管理课">赵成的运维体系管理课</a></li><li><a href="/blog-two/性能测试实战30讲">性能测试实战30讲</a></li><li><a href="/blog-two/安全攻防技能30讲">安全攻防技能30讲</a></li><li><a href="/blog-two/从0开始学架构">从0开始学架构</a></li><li><a href="/blog-two/vim实用技巧必知必会">vim实用技巧必知必会</a></li><li><a href="/blog-two/如何落地业务建模">如何落地业务建模</a></li><li><a href="/blog-two/技术与商业案例解读">技术与商业案例解读</a></li><li><a href="/blog-two/说透数字化转型">说透数字化转型</a></li><li><a href="/blog-two/遗留系统现代化实战">遗留系统现代化实战</a></li></ul></li><li>管理<ul><li><a href="/blog-two/技术管理实战36讲">技术管理实战36讲</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/项目管理实战课">项目管理实战课</a></li><li><a href="/blog-two/技术面试官识人手册">技术面试官识人手册</a></li><li><a href="/blog-two/技术领导力实战笔记">技术领导力实战笔记</a></li><li><a href="/blog-two/朱赟的技术管理">朱赟的技术管理</a></li></ul></li><li>工作生活<ul><li><a href="/blog-two/10x程序员工作法">10x程序员工作法</a></li><li><a href="/blog-two/python自动化办公实战课">python自动化办公实战课</a></li><li><a href="/blog-two/人人都用得上的写作课">人人都用得上的写作课</a></li><li><a href="/blog-two/体验设计案例课">体验设计案例课</a></li><li><a href="/blog-two/用户体验设计实战课">用户体验设计实战课</a></li><li><a href="/blog-two/程序员的个人财富课">程序员的个人财富课</a></li><li><a href="/blog-two/程序员进阶攻略">程序员进阶攻略</a></li><li><a href="/blog-two/职场求生攻略">职场求生攻略</a></li><li><a href="/blog-two/讲好故事">讲好故事</a></li><li><a href="/blog-two/跟着高手学复盘">跟着高手学复盘</a></li></ul></li><li>杂谈</li></ul><div class="__dumi-default-dark"><div class="__dumi-default-dark-switch "><button title="Dark theme" class="__dumi-default-dark-moon "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3854" width="22" height="22"><path d="M991.816611 674.909091a69.166545 69.166545 0 0 0-51.665455-23.272727 70.795636 70.795636 0 0 0-27.438545 5.585454A415.674182 415.674182 0 0 1 754.993338 698.181818c-209.594182 0-393.472-184.785455-393.472-395.636363 0-52.363636 38.539636-119.621818 69.515637-173.614546 4.887273-8.610909 9.634909-16.756364 14.103272-24.901818A69.818182 69.818182 0 0 0 384.631156 0a70.842182 70.842182 0 0 0-27.438545 5.585455C161.678429 90.298182 14.362065 307.898182 14.362065 512c0 282.298182 238.824727 512 532.38691 512a522.286545 522.286545 0 0 0 453.957818-268.334545A69.818182 69.818182 0 0 0 991.816611 674.909091zM546.679156 954.181818c-248.785455 0-462.941091-192-462.941091-442.181818 0-186.647273 140.637091-372.829091 300.939637-442.181818-36.817455 65.629091-92.578909 151.970909-92.578909 232.727273 0 250.181818 214.109091 465.454545 462.917818 465.454545a488.331636 488.331636 0 0 0 185.181091-46.545455 453.003636 453.003636 0 0 1-393.565091 232.727273z m103.656728-669.323636l-14.266182 83.781818a34.909091 34.909091 0 0 0 50.362182 36.770909l74.775272-39.563636 74.752 39.563636a36.142545 36.142545 0 0 0 16.174546 3.956364 34.909091 34.909091 0 0 0 34.210909-40.727273l-14.289455-83.781818 60.509091-59.345455a35.025455 35.025455 0 0 0-19.223272-59.578182l-83.61891-12.101818-37.376-76.101818a34.56 34.56 0 0 0-62.254545 0l-37.376 76.101818-83.618909 12.101818a34.909091 34.909091 0 0 0-19.246546 59.578182z m70.423272-64.698182a34.280727 34.280727 0 0 0 26.135273-19.083636l14.312727-29.090909 14.336 29.090909a34.257455 34.257455 0 0 0 26.135273 19.083636l32.046546 4.887273-23.272728 22.574545a35.234909 35.234909 0 0 0-10.007272 30.952727l5.46909 32.116364-28.625454-15.127273a34.490182 34.490182 0 0 0-32.302546 0l-28.695272 15.127273 5.469091-32.116364a35.141818 35.141818 0 0 0-9.984-30.952727l-23.272728-22.574545z" p-id="3855"></path></svg></button><button title="Light theme" class="__dumi-default-dark-sun "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4026" width="22" height="22"><path d="M915.2 476.16h-43.968c-24.704 0-44.736 16-44.736 35.84s20.032 35.904 44.736 35.904H915.2c24.768 0 44.8-16.064 44.8-35.904s-20.032-35.84-44.8-35.84zM512 265.6c-136.704 0-246.464 109.824-246.464 246.4 0 136.704 109.76 246.464 246.464 246.464S758.4 648.704 758.4 512c0-136.576-109.696-246.4-246.4-246.4z m0 425.6c-99.008 0-179.2-80.128-179.2-179.2 0-98.944 80.192-179.2 179.2-179.2S691.2 413.056 691.2 512c0 99.072-80.192 179.2-179.2 179.2zM197.44 512c0-19.84-19.136-35.84-43.904-35.84H108.8c-24.768 0-44.8 16-44.8 35.84s20.032 35.904 44.8 35.904h44.736c24.768 0 43.904-16.064 43.904-35.904zM512 198.464c19.776 0 35.84-20.032 35.84-44.8v-44.8C547.84 84.032 531.84 64 512 64s-35.904 20.032-35.904 44.8v44.8c0 24.768 16.128 44.864 35.904 44.864z m0 627.136c-19.776 0-35.904 20.032-35.904 44.8v44.736C476.096 940.032 492.16 960 512 960s35.84-20.032 35.84-44.8v-44.736c0-24.768-16.064-44.864-35.84-44.864z m329.92-592.832c17.472-17.536 20.288-43.072 6.4-57.024-14.016-14.016-39.488-11.2-57.024 6.336-4.736 4.864-26.496 26.496-31.36 31.36-17.472 17.472-20.288 43.008-6.336 57.024 13.952 14.016 39.488 11.2 57.024-6.336 4.8-4.864 26.496-26.56 31.296-31.36zM213.376 759.936c-4.864 4.8-26.56 26.624-31.36 31.36-17.472 17.472-20.288 42.944-6.4 56.96 14.016 13.952 39.552 11.2 57.024-6.336 4.8-4.736 26.56-26.496 31.36-31.36 17.472-17.472 20.288-43.008 6.336-56.96-14.016-13.952-39.552-11.072-56.96 6.336z m19.328-577.92c-17.536-17.536-43.008-20.352-57.024-6.336-14.08 14.016-11.136 39.488 6.336 57.024 4.864 4.864 26.496 26.56 31.36 31.424 17.536 17.408 43.008 20.288 56.96 6.336 14.016-14.016 11.264-39.488-6.336-57.024-4.736-4.864-26.496-26.56-31.296-31.424z m527.168 628.608c4.864 4.864 26.624 26.624 31.36 31.424 17.536 17.408 43.072 20.224 57.088 6.336 13.952-14.016 11.072-39.552-6.4-57.024-4.864-4.8-26.56-26.496-31.36-31.36-17.472-17.408-43.072-20.288-57.024-6.336-13.952 14.016-11.008 39.488 6.336 56.96z" p-id="4027"></path></svg></button><button title="Default to system" class="__dumi-default-dark-auto "><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="11002" width="22" height="22"><path d="M127.658667 492.885333c0-51.882667 10.24-101.717333 30.378666-149.162666s47.786667-88.064 81.92-122.538667 75.093333-61.781333 122.538667-81.92 96.938667-30.378667 149.162667-30.378667 101.717333 10.24 149.162666 30.378667 88.405333 47.786667 122.88 81.92 61.781333 75.093333 81.92 122.538667 30.378667 96.938667 30.378667 149.162666-10.24 101.717333-30.378667 149.162667-47.786667 88.405333-81.92 122.88-75.093333 61.781333-122.88 81.92-97.28 30.378667-149.162666 30.378667-101.717333-10.24-149.162667-30.378667-88.064-47.786667-122.538667-81.92-61.781333-75.093333-81.92-122.88-30.378667-96.938667-30.378666-149.162667z m329.045333 0c0 130.048 13.994667 244.394667 41.984 343.381334h12.970667c46.762667 0 91.136-9.216 133.461333-27.306667s78.848-42.666667 109.568-73.386667 54.954667-67.242667 73.386667-109.568 27.306667-86.698667 27.306666-133.461333c0-46.421333-9.216-90.794667-27.306666-133.12s-42.666667-78.848-73.386667-109.568-67.242667-54.954667-109.568-73.386667-86.698667-27.306667-133.461333-27.306666h-11.605334c-28.672 123.562667-43.349333 237.909333-43.349333 343.722666z" p-id="11003"></path></svg></button></div></div></div><ul class="__dumi-default-menu-list"><li><a href="/blog-two/devops实战笔记">devops实战笔记</a></li><li><a href="/blog-two/devops实战笔记/01.开篇词">01.开篇词</a><ul><li><a href="/blog-two/devops实战笔记/01.开篇词/01"><span>开篇词 | 从默默无闻到风靡全球，DevOps究竟有什么魔力？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇">02.基础理论篇</a><ul><li><a href="/blog-two/devops实战笔记/02.基础理论篇/01"><span>01 | DevOps的“定义”：DevOps究竟要解决什么问题？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/02"><span>02 | DevOps的价值：数字化转型时代，DevOps是必选项？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/03"><span>03 | DevOps的实施：到底是工具先行还是文化先行？</span></a></li><li><a href="/blog-two/devops实战笔记/02.基础理论篇/04"><span>04 | DevOps的衡量：你是否找到了DevOps的实施路线图？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇">03.落地实践篇</a><ul><li><a href="/blog-two/devops实战笔记/03.落地实践篇/01"><span>05 | 价值流分析：关于DevOps转型，我们应该从何处入手？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/02"><span>06 | 转型之路：企业实施DevOps的常见路径和问题</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/03"><span>07 | 业务敏捷：帮助DevOps快速落地的源动力</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/04"><span>08 | 精益看板（上）：精益驱动的敏捷开发方法</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/05"><span>09 | 精益看板（下）：精益驱动的敏捷开发方法</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/06"><span>10 | 配置管理：最容易被忽视的DevOps工程实践基础</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/07"><span>11 | 分支策略：让研发高效协作的关键要素</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/08"><span>12 | 持续集成：你说的CI和我说的CI是一回事吗？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/09"><span>13 | 自动化测试：DevOps的阿克琉斯之踵</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/10"><span>14 | 内建质量：丰田和亚马逊给我们的启示</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/11"><span>15 | 技术债务：那些不可忽视的潜在问题</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/12"><span>16 | 环境管理：一切皆代码是一种什么样的体验？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/13"><span>17 | 部署管理：低风险的部署发布策略</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/14"><span>18 | 混沌工程：软件领域的反脆弱</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/15"><span>19 | 正向度量：如何建立完整的DevOps度量体系？</span></a></li><li><a href="/blog-two/devops实战笔记/03.落地实践篇/16"><span>20 | 持续改进：PDCA体系和持续改进的意义</span></a></li></ul></li><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记/04.平台工具篇">04.平台工具篇</a><ul><li><a aria-current="page" class="active" href="/blog-two/devops实战笔记/04.平台工具篇/01"><span>21 | 开源还是自研：企业DevOps平台建设的三个阶段</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/02"><span>22 | 产品设计之道：DevOps产品设计的五个层次</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/03"><span>23 | 持续交付平台：现代流水线必备的十大特征（上）</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/04"><span>24 | 持续交付平台：现代流水线必备的十大特征（下）</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/05"><span>25 | 让数据说话：如何建设企业级数据度量平台？</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/06"><span>26 | 平台产品研发：三个月完成千人规模的产品要怎么做？</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/07"><span>27 | 巨人的肩膀：那些你不能忽视的开源工具</span></a></li><li><a href="/blog-two/devops实战笔记/04.平台工具篇/08"><span>28 | 迈向云端：云原生应用时代的平台思考</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/05.转型案例篇">05.转型案例篇</a><ul><li><a href="/blog-two/devops实战笔记/05.转型案例篇/01"><span>29 | 向前一步：万人规模企业的DevOps实战转型案例（上）</span></a></li><li><a href="/blog-two/devops实战笔记/05.转型案例篇/02"><span>30 | 向前一步：万人规模企业的DevOps实战转型案例（下）</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/06.特别放送">06.特别放送</a><ul><li><a href="/blog-two/devops实战笔记/06.特别放送/01"><span>特别放送（一）| 成为DevOps工程师的必备技能（上）</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/02"><span>特别放送（二）| 成为DevOps工程师的必备技能（下）</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/03"><span>特别放送（三）| 学习DevOps不得不了解的经典资料</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/04"><span>特别放送（四）| Jenkins产品经理是如何设计产品的？</span></a></li><li><a href="/blog-two/devops实战笔记/06.特别放送/05"><span>特别放送（五）| 关于DevOps组织和文化的那些趣事儿</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/07.总结答疑篇">07.总结答疑篇</a><ul><li><a href="/blog-two/devops实战笔记/07.总结答疑篇/01"><span>期中总结 | 3个典型问题答疑及如何高效学习</span></a></li><li><a href="/blog-two/devops实战笔记/07.总结答疑篇/02"><span>期末总结 | 在云时代，如何选择一款合适的流水线工具？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/08.结束语">08.结束语</a><ul><li><a href="/blog-two/devops实战笔记/08.结束语/01"><span>结束语 | 持续改进，成就非凡！</span></a></li><li><a href="/blog-two/devops实战笔记/08.结束语/02"><span>结课问卷获奖用户名单</span></a></li><li><a href="/blog-two/devops实战笔记/08.结束语/03"><span>期末测试 | 这些DevOps核心知识，你都掌握了吗？</span></a></li></ul></li><li><a href="/blog-two/devops实战笔记/summary">devops实战笔记</a></li></ul></div></div><ul role="slug-list" class="__dumi-default-layout-toc"><li title="阶段一：从无到有" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段一从无到有"><span>阶段一：从无到有</span></a></li><li title="如何选择工具？" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#如何选择工具"><span>如何选择工具？</span></a></li><li title="为什么商业工具也是可选项？" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#为什么商业工具也是可选项"><span>为什么商业工具也是可选项？</span></a></li><li title="阶段二：从小到大" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段二从小到大"><span>阶段二：从小到大</span></a></li><li title="设计时给扩展留出空间" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#设计时给扩展留出空间"><span>设计时给扩展留出空间</span></a></li><li title="实现时关注元数据治理" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#实现时关注元数据治理"><span>实现时关注元数据治理</span></a></li><li title="阶段三：从繁到简" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段三从繁到简"><span>阶段三：从繁到简</span></a></li><li title="企业工具平台治理" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#企业工具平台治理"><span>企业工具平台治理</span></a></li><li title="打造自服务的工具平台" data-depth="3"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#打造自服务的工具平台"><span>打造自服务的工具平台</span></a></li><li title="总结" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#总结"><span>总结</span></a></li><li title="思考题" data-depth="2"><a href="/blog-two/devops实战笔记/04.平台工具篇/01#思考题"><span>思考题</span></a></li></ul><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="21--开源还是自研企业devops平台建设的三个阶段"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#21--开源还是自研企业devops平台建设的三个阶段"><span class="icon icon-link"></span></a>21 | 开源还是自研：企业DevOps平台建设的三个阶段</h1><p>你好，我是石雪峰，从今天开始，专栏正式进入了“平台工具篇”。</p><p>在这个全新的章节，我重点想讲三个方面的内容：</p><ul><li>帮助你梳理企业内部DevOps平台的实施路径，理清平台建设的主体脉络；</li><li>给你分享一些核心平台的建设经验，这些经验都来自于生产一线；</li><li>给你分析一下DevOps平台的发展方向和热门趋势，让你在进行平台建设时，能够跟上潮流。</li></ul><p>我想跟你说的是，<strong>没有人天生就是DevOps平台的产品经理，但每一个人都能成为DevOps平台的产品经理</strong>。</p><p>因为，DevOps平台的产品与业务方向的产品不同，它要解决的就是<strong>一线研发交付团队的实际问题</strong>。</p><p>普通的产品经理没有研发交付的背景，很难理解研发交付的困境，而研发交付团队又缺少产品经理的技能和思路。所以，这个领域的人才少之又少，基本只能靠内部培养，我希望你能通过专栏的学习，摸索出一些产品设计的门道。</p><p>好了，今天，我们就来聊一聊企业DevOps平台建设的话题。</p><p>就像我之前提到的那样，在企业内部推行DevOps，工具不是万能的，但是没有工具，却是万万不能的。</p><p>当企业决定引入DevOps工具的时候，无外乎有三种选择：直接使用开源工具；采购商业工具；自己研发工具。</p><p>你可能会说，如果有能力，当然是选自研工具啊，自主可控，又有核心竞争力。可是，在DevOps状态报告中，却有一些不同的发现。</p><p>那些倾向于使用完全自建工具的企业，效能水平往往不高。所谓的完全自建工具，是指不依赖于开源解决方案，整个工具完全由自己来实现。而那些大部分采用开源工具的企业，效能水平反而不差。</p><p>这就有点反常理了。企业花了这么大的时间和精力来建设内部工具，到最后却没有达到预期的效果，究竟是为什么呢？</p><p>在我看来，这是因为没有找到企业内部平台建设的正确路径。<strong>我们要在正确的时候，做正确的事情，太超前，或者太落后，都是会有问题的</strong>。</p><p>那么，接下来，我就跟你聊聊企业DevOps平台建设的三个阶段。</p><h2 id="阶段一从无到有"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段一从无到有"><span class="icon icon-link"></span></a>阶段一：从无到有</h2><p>在这个阶段，企业的DevOps平台建设处于刚刚起步的状态，在整个交付过程中，还有大量的本地操作和重复性的操作。</p><p>另外，企业内部一般也没有一个成体系的工具团队，来专门负责平台能力建设。</p><p>那么，对于这个阶段，<strong>我给你的建议是：引入开源工具和商业工具，快速补齐现有的能力短板</strong>。</p><p>所谓能力短板，其实就是当前交付工具链体系中缺失的部分，尤其是高频操作，或者是涉及多人协作的部分，比如，需求管理、持续集成等。</p><p>无论是开源工具，还是商业工具，基本都是比较成熟的、拿来即用的，这种“即战力”是当前企业最需要的。因为，工具的引入解决了从无到有的问题，可以直接提升单点效率。这也是在DevOps转型初期，团队的效率能够飞速提升的主要原因。</p><p>看到这里，你可能会问两个问题：“如何选择工具？”“为什么商业工具也是可选项？”</p><p>其实，这也是团队在引入工具的初期，最头疼的两个典型问题，我们一一来看下。</p><h3 id="如何选择工具"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#如何选择工具"><span class="icon icon-link"></span></a>如何选择工具？</h3><p>现在，以DevOps为名的工具太多了。想要在这么多工具中，选择一款合适的，你要怎么做呢？</p><p>有的人可能会把相关工具的功能列表拉出来，然后逐项比对，看哪个工具的功能更加强大。其实，我觉得，在从无到有的阶段，不需要这么复杂，<strong>核心原则就是选择主流工具</strong>。</p><p>主流工具就是业内大家用得比较多的，在各种分享文章里面高频出现的，使用经验一搜一大把的那种工具。我给你提供一些工具，你可以参考一下：</p><ul><li>需求管理工具Jira；</li><li>知识管理工具Confluence；</li><li>版本控制系统GitLab；</li><li>持续集成工具Jenkins；</li><li>代码质量工具SonarQube；</li><li>构建工具Maven/Gradle；</li><li>制品管理Artifactory/Harbor；</li><li>配置管理工具Ansible；</li><li>配置中心Apollo；</li><li>测试工具RF/Selenium/Appium/Jmeter/TestNG；</li><li>安全合规工具BlackDuck/Fortify；</li><li>……</li></ul><p>在初期，工具要解决的大多是单点问题，主流工具意味着更好的可扩展性，比如有完整的接口列表，甚至对其他工具已经内置了插件支持。</p><p>另外，很多开发实践都是基于主流工具来设计的。业内对于这些工具摸索得也比较深，有很多现成的实践经验，这些都对应了快速补齐能力短板的目标。</p><p>我之前见过一家大型金融机构，他们也在考虑将代码管理从SVN切换到Git。但是，他们选择的Git平台既不是开源的GitLab、Gerrit，也不是商业化的主流工具，而是一个听都没听过的开源工具。</p><p>这个工具的操作流程跟一般工具都不太一样，配套的评审、集成功能也都不够完善。最后，这家机构还是改用主流工具了。</p><h3 id="为什么商业工具也是可选项"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#为什么商业工具也是可选项"><span class="icon icon-link"></span></a>为什么商业工具也是可选项？</h3><p>随着开源工具的成熟和完善，越来越多的公司，甚至是传统企业，都开始积极拥抱开源，似乎开源就是代表未来的趋势。</p><p>那么，是不是只选择开源工具就行了，不用考虑商业工具了呢？我觉得，这种想法也是比较片面的。</p><p>商业工具的优势一直都存在，比如，专业性、安全性、扩展性、技术支持力度等。其实，很多开源工具都有商业版本。</p><p>比如，很多公司即便有开源的Nexus，制品管理工具Artifactory也都是标配。因为，Artifactory无论是在支持的制品类型、分布式部署、附加制品安全漏洞检查，还是在与外部工具的集成等方面，都有着明显的优势。</p><p>另外，像Jira这种需求和缺陷管理工具，与Confluence深度集成的话，足够满足绝大多数公司的需求。</p><p>再举个例子，安卓开发最常见的Gradle工具，它的商业版本可以直接让你的编译速度提升一个数量级。在最开始时，你可能觉得够用就行，但是当你开始追求极致效率的时候，这些都是核心竞争力。</p><p>选择商业工具的理由有很多，不选的理由大多就是一个字：贵。针对这个问题，我要说的是，<strong>要分清一笔支出到底是成本，还是投资</strong>。</p><p>就跟购买黄金一样，虽然也花了钱，但这是一笔投资，未来可以保值和增值，甚至是变现。对于商业工具来说，也是同样的道理。如果一款商业工具可以大幅提升团队效率，最后的产出可能远超最开始的投资。如果我们组建一个团队，仿照商业工具，开发一套自研工具，重复造轮子的成本也可能一点不少。所以，重点就是要看怎么算这笔账。</p><h2 id="阶段二从小到大"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段二从小到大"><span class="icon icon-link"></span></a>阶段二：从小到大</h2><p>经过了第一个阶段，企业交付链路上的工具基本都已经齐全了。团队对于工具的需求开始从够用到好用进行转变。另外，随着业务发展，团队扩大，差异化需求也成了摆在面前的问题。再加上，人和数据都越来越多，工具的重要性与日俱增。</p><p>那么，工具的稳定性、可靠性，以及大规模使用的性能问题，也开始凸显出来。</p><p>对于这个阶段，<strong>我给你的建议是：使用半自建工具和定制商业工具，来解决自己的问题</strong>。</p><p>所谓半自建工具，大多数情况下，还是基于开源工具的二次开发，或者是对开源工具进行一次封装，在开源工具上面实现需要的业务逻辑和交互界面。</p><p>比如，基于Jenkins封装一套自己的构建打包平台，完全可以利用Jenkins API和插件扩展实现。我附上了一幅架构示意图，你可以参考一下。</p><p><img src="https://static001.geekbang.org/resource/image/fa/de/fad880b4dbd8464e3ccd37886f42c0de.png" alt=""/></p><p>那么，半自建工具有哪些注意事项呢？虽然各个领域的工具职能千差万别，但从我的经验来看，主要有两点：<strong>设计时给扩展留出空间；实现时关注元数据治理</strong>。</p><h3 id="设计时给扩展留出空间"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#设计时给扩展留出空间"><span class="icon icon-link"></span></a>设计时给扩展留出空间</h3><p>刚开始建设平台的时候，很容易就事论事，眼前有什么问题，就提供什么功能。这固然是比较务实的态度，但对于平台而言，还是要有顶层设计，给未来留出扩展性。这么说可能比较抽象，我来给你举几个实际的例子，也是我们之前踩过的“坑”。</p><p><strong>案例一：</strong></p><p>平台的初期设计没有考虑租户的特性，只是为了满足单一业务的使用。当功能比较成熟，想要对外输出的时候，我们发现，要重新在更高的维度插入租户，导致系统需要进行大幅改造，不仅功能页面需要调整，连权限模型都要重新设计。</p><p>如果在设计平台之初，就考虑到未来的扩展需求，把单一业务实现为一个平台租户，会不会更好些呢？</p><p><strong>案例二：</strong></p><p>为了满足快速上线的需要，我们对Jenkins进行了简单封装，实现了在线打包平台。但是，打包页面的参数都“写死”在了页面中。另外，每接入一个项目，就需要单独实现一个页面。后来，面对上百个应用的接入所带来的差异化需求，平台只能推倒重来。</p><p>如果最开始在设计的时候，就采用接口获取的方式，将参数实现配置化，会不会更好些呢？</p><p>除此之外，在技术选型的时候，前后端分离的开发方式、主流的技术栈选型、一些典型的设计模式、相对统一的语言类型，其实都有助于平台空间的后续扩展。</p><p><strong>功能可以快速迭代，人员可以快速进入团队，形成战斗力，在设计平台的时候，这些都是需要思考的问题</strong>。</p><p>当然，<strong>顶层规划，不代表过度设计</strong>。我只是说，要在可以预见的范围内，预留一些空间，从而规避后期的尴尬。</p><h3 id="实现时关注元数据治理"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#实现时关注元数据治理"><span class="icon icon-link"></span></a>实现时关注元数据治理</h3><p>所谓元数据，也就是常说的meta-data，可以理解为钥匙链，这些数据可以串起整个平台的数据结构。比如应用名称、模块名称、安全ID等等。</p><p>各个平台在组织数据结构的时候，都需要用到这些元数据，而且一旦使用了，轻易都不好改变。因为，在数据模型里面，这些元数据很有可能已经作为各种主键、外键的约束存在了。</p><p>对于单一平台来说，怎么维护这些元数据，都没什么大问题，但是，对于后续平台间的打通而言，这些元数据就成了一种标准语言。如果平台间的语言不通，就需要加入大量的翻译处理过程，这就导致系统性耦合加大，连接变得脆弱。</p><p>比如，同样是购物车模块，在我的平台里面叫购物车，而在你的平台里面叫shopping-cart，而且还按照平台划分，比如shopping-cart-android、shopping-cart-ios，甚至还有一些特性维度，比如shopping-cart-feature1等等。显然，想让两边的数据对齐，并不容易。</p><p><strong>当然，元数据的治理并不是单一平台能够解决的事情，这同样需要顶层规划</strong>。</p><p>比如，在公司内部建立统一的CMDB，在其中统一管理应用信息。或者，建立应用创建审批流程，通用一个标准化流程，来管控应用的生命周期，同时管理应用的基础信息。这些都属于技术债务，做得越晚，还债的成本就越高。</p><h2 id="阶段三从繁到简"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#阶段三从繁到简"><span class="icon icon-link"></span></a>阶段三：从繁到简</h2><p>到了第三个阶段，恭喜你已经在DevOps平台建设方面有了一定的积累，在各个垂直领域也积累了成功案例。那么，在这个阶段，我们要解决的主要问题有3点：</p><ul><li>平台太多。做一件事情，需要各种切来切去；</li><li>平台太复杂。想要实现一个功能，需要对相关人员进行专业培训，他们才能做对；</li><li>平台价值说不清。比如，使用平台，能带来多大价值？能给团队和业务带来多大贡献？</li></ul><p>对于这个阶段，<strong>我给你的建议是：使用整合工具来化繁为简，统一界面，简化操作，有效度量。</strong></p><p>整合工具，就是包含了开源工具、半自研工具、商业工具的集合。</p><p><strong>你要提供的不再是一个工具，而是一整套的解决方案；不是解决一个问题，而是解决交付过程中方方面面的问题。</strong></p><h3 id="企业工具平台治理"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#企业工具平台治理"><span class="icon icon-link"></span></a>企业工具平台治理</h3><p>如果最开始没有一个顶层规划，到了这个时候，企业内部大大小小的工具平台应该有很多。你需要做的第一步，就是<strong>平台化治理工作</strong>。</p><p>首先，你要识别出来有哪些工具平台，使用情况是怎样的，比如有哪些业务在使用，实现了哪些功能。</p><p>如果要把所有工具平台收编起来，这不是一件容易的事情，甚至超出了技术的范畴。尤其是对很多大企业来说，工具平台是很多团队的根基，如果不需要这个平台，就意味着团队的重心也得调整。</p><p>所以，我给你的第一条建议是比较温和可行的，那就是，<strong>找到软件交付的主路径</strong>。用一个平台覆盖这条主路径，从而串联各个单点上的能力，让一些真正好的平台能够脱颖而出。而要做到这个事情，就需要<strong>持续交付流水线</strong>了。</p><p>这些年来，我一直在从事持续交付平台的建设，也总结了很多经验。我会在后面的内容中，跟你好好聊聊，如何设计一个现代的持续交付流水线平台。</p><p>流水线平台与一体化平台之间，还是有很大差距的。毕竟，各种工具平台的设计思路、操作路径、界面风格，差别很大。</p><p>所以，在实际操作的过程中，我给你的第二条建议就是，<strong>区分平台和工具，让平台脱颖而出</strong>。</p><p>比如，测试环境存在大量的工具，而一整套测试平台，实际上可以满足测试方方面面的需求，也就是说，测试人员只要在这个平台上工作就够了。当企业内部繁杂的工具收敛为几个核心平台之后，对于用户来说，就减少了界面切换的场景，可以通过平台和平台对接完成日常工作。</p><h3 id="打造自服务的工具平台"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#打造自服务的工具平台"><span class="icon icon-link"></span></a>打造自服务的工具平台</h3><p>到了这个阶段，<strong>自服务</strong>就成了平台建设的核心理念。</p><p><strong>所谓自服务，就是用户可以自行登录平台实现自己的操作，查看自己关心的数据，获取有效的信息</strong>。</p><p>而想要实现自服务，<strong>简化操作</strong>是必经之路。说白了，如果一件事情只要一键就能完成，这才是真正地实现了自服务。</p><p>这么说可能有点夸张。但是，打破职能间的壁垒，实现跨职能的赋能，依靠的就是平台的自服务能力。很多时候，当你在埋怨“平台设计得这么简单，为啥还是有人不会用”的时候，其实这只能说明一个问题，就是<strong>平台依然不够简单</strong>。</p><p>之前，Jenkins社区就发起过一个项目，叫作“5 Click，5 Minutes”，意思是希望用户只需要5次点击，花5分钟时间，就能完成一个Jenkins服务的建立。</p><p>这个项目的结果，就是现在的Jenkins创建导航，通过把建立服务的成本降到最低，从而帮助更多的用户上手使用。</p><p>你看，用户体验是否简单，与技术是否高深无关，重点在于是否能够换位思考。所以，在建设平台的时候，要始终保有一份同理心。</p><h2 id="总结"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#总结"><span class="icon icon-link"></span></a>总结</h2><p>企业内部的平台化建设是个长期问题，如果你要问我，企业要建设DevOps平台，有什么经验总结吗？我的回答就是“四化”：<strong>标准化、自动化、服务化和数据化</strong>。实际上，这些也是指导平台建设的核心理念。</p><ul><li>标准化：一切皆有规则，一切皆有标准；</li><li>自动化：干掉一切不必要的手工操作环节，能一键完成的，绝不操作两次；</li><li>服务化：面向用户设计，而不是面向专家设计，让每个人都能在没有外界依赖的前提下，完成自己的工作；</li><li>数据化：对数据进行收集、汇总、分析和展示，让客观数据呈现出来，让数据指导持续改进。</li></ul><h2 id="思考题"><a aria-hidden="true" tabindex="-1" href="/blog-two/devops实战笔记/04.平台工具篇/01#思考题"><span class="icon icon-link"></span></a>思考题</h2><p>最后，关于平台化建设，你有什么私藏的好工具吗？可以分享一下吗？</p><p>欢迎在留言区写下你的思考和答案，我们一起讨论，共同学习进步。如果你觉得这篇文章对你有所帮助，欢迎你把文章分享给你的朋友。</p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/GGwujun/blog/edit/master/docs/devops实战笔记/04.平台工具篇/01.md">在 GitHub 上编辑此页<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="最后更新时间：">5/2/2022 02:41:02</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script>
      (function () {
        if (!location.port) {
          (function (i, s, o, g, r, a, m) {
            i["GoogleAnalyticsObject"] = r;
            (i[r] =
              i[r] ||
              function () {
                (i[r].q = i[r].q || []).push(arguments);
              }),
              (i[r].l = 1 * new Date());
            (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m);
          })(
            window,
            document,
            "script",
            "//www.google-analytics.com/analytics.js",
            "ga"
          );
          ga("create", "UA-149864185-1", "auto");
          ga("send", "pageview");
        }
      })();
    </script>
    <script src="/blog-two/umi.js"></script>
  </body>
</html>
